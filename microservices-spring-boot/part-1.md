**Microservices with Spring Boot — Intro to Microservices (Part 1)**

> https://medium.com/omarelgabrys-blog/microservices-with-spring-boot-intro-to-microservices-part-1-c0d24cd422c3

<!-- markdown-toc start - Don't edit this section. Run M-x markdown-toc-refresh-toc -->
**Table of Contents**

- [概述](#概述)
- [Microservices](#microservices)
	- [分解](#分解)
	- [单一功能](#单一功能)
	- [定义良好的接口](#定义良好的接口)
	- [独立](#独立)
	- [小团队](#小团队)
	- [生命周期](#生命周期)
	- [最小化沟通](#最小化沟通)
	- [范围和变化的风险](#范围和变化的风险)
- [整体和微服务的比较](#整体和微服务的比较)

<!-- markdown-toc end -->


# 概述

微服务简而言之就是允许我们的大系统分解成多个协同工作的独立系统。

**Spring Cloud**，基于 Spring boot，提供一系列特性快速构建微服务。它很聪明，知道如何一起工作，能通过最小化的配置快速设置。

比如服务注册、断路器、代理、登录和日志跟踪、监控、认证等。

我们通过代码来展示如何整合 Spring Cloud 的特性，并逐一解释。

> 我们假设您已经有了 Spring Boot 基础。

![](https://raw.githubusercontent.com/keer2345/java-spring-boot-cloud-tutorials/master/microservices-spring-boot/images/01.png)

这个教程，我们将涵盖一下内容：
- 介绍微服务
- 创建微服务和网管 —— Eureka and Zuul
- 认证 —— JSON Web Token (JWT)
- 断路器和日志跟踪 —— Hystrix & Sleuth
- 管理、搜索和可视化日志 —— ELK (Elasticsearch, Logstash, Kibana)

> 最后一部分不会在这个教程讲述，将会链接到另一个教程中一步步阐述。

# Microservices
对于微服务，有很多定义，下面的定义是最常见的：

> 微服务是将应用分散成单一模块，服务的整个生命周期由小团队独立部署和操作并通过良好的定义对接。

> 微服务通过减少人们之间的沟通和协调加速交付,同时减少的范围和变化的风险。

## 分解
相对大的应用，我们将其分解成独立的，不同的，微应用的服务。每一个服务处理指定的业务领域（日志、认证、订单、客户）并提供接口实现业务逻辑和数据库连接。

## 单一功能
每一个服务拥有特定的功能，或是责任。当然，一个服务能做很多事情，但所有事情都是与该功能相关的。

## 定义良好的接口
服务必须提供接口以供我们通讯。通常是一些列拥有输入输出的方法。

## 独立
独立意味着服务相互之间不知道是如何实现的。测试、部署和维护都是独立的。不同的服务可能用不同的语言实现，并通过不同的数据库通讯。但仍然是可以共同工作的。

## 小团队
我们通过服务来分散工作团队，每一个团队专注于特定的服务，而不需要关心其他团队的工作。这样可以提高工作效率，易于沟通，并能快速部署。

## 生命周期
团队负责服务的整个生命周期，从编码、测试、展现、部署、调试到维护。在传统的应用中，我们的团队可能要从编码到部署，但在微服务中并不是这样。

## 最小化沟通
最小化沟通并不是说团队成员应该相互忽视，而是指跨团队的沟通应该通过各自服务提供的接口来实现。它们需要达成一致的外部接口，因此服务间的沟通应当定义清晰。

## 范围和变化的风险
一个服务的改变不能影响其他服务，只要没有改变外部接口我们的服务将不会对其他服务造成影响。

# 整体和微服务的比较

两者的选择取决于环境和应用的复杂性。事实上，微服务在大型应用中解决的问题从伸缩到管理，但这不是唯一的解决方式。

重要的是要铭记微服务的使用并不是得真个环境更加复杂，导致额外的努力和成本以及项目失败。微服务中继承的大多数问题是由于各个组件造成的。例如，在整体项目中方法之间的沟通非常快速，而服务的异步通讯相对较慢、难以调试且要保证安全。

可以肯定的是，需要额外的操作、部署、扩展、配置、监控 和测试每一个服务。也就是说，我们需要一个熟练的 DevOps 团队来处理复杂的自动化部署和监控。

好了，我们介绍完微服务了。接下来，我们将要开始实现它。
